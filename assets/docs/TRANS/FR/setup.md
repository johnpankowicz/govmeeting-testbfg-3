<!-- Do not edit this file. It was translated by Google. -->

<p><a name="Contents"></a></p>
<h1> Contenu </h1>
<ul>
<li> <a href="about?id=setup#InstallTools">Installer les outils et cloner le référentiel</a> </li>
<li> <a href="about?id=setup#DevelopVsCode">Développer avec VsCode</a> </li>
<li> <a href="about?id=setup#DevelopVS">Développer avec Visual Studio</a> </li>
<li> <a href="about?id=setup#DevelopOther">Développer sur d&#39;autres plateformes</a> </li>
<li> <a href="about?id=setup#Database">Base de données</a> </li>
<li> <a href="about?id=setup#GoogleCloud">Google Cloud Platform</a> </li>
<li> <a href="about?id=setup#GoogleApi">Clés API Google</a> </li>
</ul><hr />
<p><a name="InstallTools"></a></p>
<h1> Installer les outils et cloner le référentiel <br/></h1>
<p> <a href="about?id=setup#Contents">[Contenu]</a> </p>

<ul>
<li> Installez git. <a href="https://gitforwindows.org">Git pour Windows</a> , <a href="https://git-scm.com/download/mac">Git pour Mac</a> </li>
<li> Installez <a href="https://nodejs.org/en/download/">Node.js.</a> </li>
<li> Installez <a href="https://dotnet.microsoft.com/download">.Net Core SDK.</a> </li>
<li> Clonez ou téléchargez le projet depuis <a href="https://github.com/govmeeting/govmeeting">Github.</a> Forkez de préférence le projet et clonez votre fork. </li>
</ul><hr />
<p><a name="DevelopVsCode"></a></p>
<h1> Développer avec VsCode <br/></h1>
<p> <a href="about?id=setup#Contents">[Contenu]</a> </p>
<h2> Installer VsCode </h2>
<ul>
<li> Installez <a href="https://code.visualstudio.com/download">Visual Studio Code</a> et démarrez-le. </li>
<li> Installez ces extensions à l&#39;aide du panneau d&#39;extensions à gauche: 
<ul>
<li> «Débogueur pour Chrome» par Microsoft </li>
<li> «C
# pour Visual Studio Code» par Microsoft </li>
<li> «SQL Server (mssql)» par Microsoft </li>
<li> "Todo Tree" par Gruntfuggly - affiche les lignes TODO dans le code (facultatif) </li>
<li> "Powershell" de Microsoft - pour le débogage des scripts de génération Powershell (facultatif) </li>
</ul></li>
</ul><h2> Exécutez ClientApp de façon autonome </h2>
<ul>
<li> Ouvrez le dossier du projet dans VsCode </li>
<li> Installez les packages NPM: 
<ul>
<li> Ouvrez un volet terminal dans VsCode </li>
<li> cd FrontEnd / ClientApp </li>
<li> installation de npm </li>
</ul></li>
<li> Compléter et exécuter ClientApp 
<ul>
<li> npm start </li>
</ul></li>
<li> Dans le panneau de débogage, définissez la configuration de lancement "ClientApp Standalone" </li>
<li> Appuyez sur F5 (débogage) ou Ctrl-F5 (exécution sans débogage) 
<ul>
<li> OU ouvrez un navigateur vers localhost: 4200 </li>
</ul></li>
</ul>
<p> Par défaut, ClientApp appellera les services de remplacement au lieu d&#39;appeler l&#39;API WebApp. </p>
<h2> Exécutez ClientApp et WebApp </h2>
<ul>
<li> Téléchargez les sous-dossiers de <a href="https://drive.google.com/drive/folders/1_I8AEnMNoPud7XZ_zIYfyGbvy96b-PyN?usp=sharing">Google Drive.</a> Mettez-les dans un dossier frère au projet nommé "TESTDATA" </li>
<li> Dans FrontEnd / ClientApp / app.module.ts, remplacez «isAspServerRunning» de false par true. </li>
<li> Construire des projets: 
<ul>
<li> Ctrl-Maj-P </li>
<li> Sélectionnez "Tâches: exécuter la tâche" </li>
<li> Sélectionnez "build-webapp" ou "Build All" </li>
</ul></li>
<li> Démarrez ClientApp (s&#39;il n&#39;est pas déjà en cours d&#39;exécution) 
<ul>
<li> cd FrontEnd / ClientApp </li>
<li> npm start </li>
</ul></li>
<li> Dans le panneau de débogage, définissez la configuration de lancement "WebApp & ClientApp" </li>
<li> Appuyez sur F5 (débogage) ou Ctrl-F5 (exécution sans débogage) 
<ul>
<li> Le navigateur Chrome s&#39;ouvrira et après un certain temps, ClientApp apparaîtra sur localhost: 5000. </li>
</ul></li>
</ul><h3> Remarques </h3>
<p> "build-webapp" construit WebApp. </p>

<p> "Build All" construit tous les projets. Comme build-webapp, il installe les packages NuGet selon les besoins. Vérifiez chaque fenêtre de terminal pour les erreurs et réexécutez si nécessaire. Il existe un bogue connu de condition de concurrence dans la restauration de plusieurs packages NuGet de manière aynchrone. </p>

<p> La définition de "isAspServerRunning" sur true, indique à ClientApp d&#39;appeler l&#39;API WebApp au lieu des services de stub. </p>

<p> Les sous-dossiers sur Google Drive servent à tester WebApp. Les fichiers sont destinés à tester WorkflowApp. </p>

<p> ClientApp est servi par le webpack-dev-server. WebApp utilise le serveur Kestrel. Mais Kestrel projette les demandes ClientApp au serveur webpack-dev-server. </p>
<h2> Exécutez WorkflowApp </h2>
<ul>
<li> Téléchargez les fichiers de test depuis <a href="https://drive.google.com/drive/folders/1_I8AEnMNoPud7XZ_zIYfyGbvy96b-PyN?usp=sharing">Google Drive.</a> </li>
<li> Dans le panneau de débogage, définissez la configuration de lancement "WorkflowApp" </li>
<li> Appuyez sur F5 (débogage) ou Ctrl-F5 (exécution sans débogage) </li>
</ul><h3> Remarques </h3>
<p> Lorsque WorkflowApp démarre pour la première fois, il crée un dossier "DATAFILES" et contient les 3 sous-dossiers suivants: </p>

<ul>
<li> REÇU - Tous les fichiers placés dans ce dossier seront automatiquement traités. </li>
<li> TRAITEMENT - Il contient des dossiers de travail pour le traitement. </li>
<li> TERMINÉ - Les fichiers terminés sont placés ici. </li>
</ul>
<p> Le paramètre suivant dans appsettings.json lui dit de copier les fichiers de test dans DATAFILES / RECEIVED. Les fichiers de test incluent une transcription PDF et un enregistrement MP4 d&#39;exemples de réunions. </p>
<pre> <code> "InitializeWithTestData": true,</code> </pre>
<p> WorkflowApp pré-traite la transcription et produit un fichier JSON avec les données extraites. Si vous avez configuré un <a href="about?id=setup#GoogleCloud">compte Google Cloud,</a> il transcrira l&#39;enregistrement MP4. Vous trouverez les résultats des deux dans le dossier DATAFILES \ PROCESSING. </p>

<p> Vous remarquerez que la transcription MP4 initiale et sa transcription sont réparties en segments de travail de 3 minutes. Il s&#39;agit de permettre à plusieurs volontaires de travailler simultanément sur la relecture de la transcription. </p>
<h3> Traiter de nouveaux enregistrements </h3>
<p> Outre les fichiers de test sur Google Drive, vous pouvez traiter vos propres enregistrements de réunions: </p>

<ul>
<li> Obtenez un enregistrement au format mp4 d&#39;une réunion gouvernementale. </li>
<li> Nommez le fichier comme suit: "country_state_county_municipality_agency_language-code_date.mp4". </li>
<li> Par exemple: "USA_ME_LincolnCounty_BoothbayHarbor_Selectmen_en_2017-01-09.mp4". </li>
<li> Mettez le fichier dans "DATAFILES / RECEIVED" </li>
<li> Dans BackEnd / WorkflowApp / appsettings.json, définissez les propriétés suivantes: 
<ul>
<li> "InitializeWithTestData": faux </li>
<li> "RequireManagerApproval": faux </li>
</ul></li>
<li> Exécutez WorkflowApp. </li>
</ul>
<p> Si vous avez un compte Google configuré, il transcrira l&#39;enregistrement. </p>
<h3> Traiter les nouvelles transcriptions </h3>
<p> Vous pouvez également demander à WorkflowApp de traiter vos propres fichiers de transcription. Les fichiers de test proviennent des réunions du conseil municipal de Philadelphie, en Pennsylvanie, aux États-Unis. Afin de gérer d&#39;autres formats de transcription, vous devez d&#39;abord ajouter une méthode à ProcessTranscript_Lib. Voir le <a href="https://github.com/govmeeting/govmeeting/issues/93">numéro 93 de Github</a> </p>
<hr />
<p><a name="DevelopVS"></a></p>
<h1> Développer avec Visual Studio <br/></h1>
<p> <a href="about?id=setup#Contents">[Contenu]</a> </p>

<ul>
<li> Installez la version gratuite de <a href="https://visualstudio.microsoft.com/free-developer-offers/">Visual Studio Community Edition.</a> </li>
<li> Lors de l&#39;installation, sélectionnez à la fois les charges de travail «ASP.NET» et «Bureau .NET». </li>
<li> Installer les extensions: (toutes par Mads Kristensen) 
<ul>
<li> "NPM Task Runner" </li>
<li> "Command Task Runner" </li>
<li> "Editeur Markdown" </li>
</ul></li>
<li> Ouvrez le fichier de solution "govmeeting.sln" </li>
</ul><h2> Exécutez ClientApp et WebApp </h2>
<ul>
<li> Téléchargez les sous-dossiers de <a href="https://drive.google.com/drive/folders/1_I8AEnMNoPud7XZ_zIYfyGbvy96b-PyN?usp=sharing">Google Drive.</a> Mettez-les dans un dossier frère au projet nommé "TESTDATA" </li>
<li> Dans FrontEnd / ClientApp / app.module.ts, remplacez «isAspServerRunning» de false par true. </li>
<li> Dans l&#39;Explorateur de tâches Runner 
<ul>
<li> Sélectionnez: ClientApp </li>
<li> exécuter "installer" </li>
<li> exécuter "démarrer" </li>
</ul></li>
<li> Définissez le projet de démarrage sur "WebApp" </li>
<li> Appuyez sur F5 (débogage) ou Ctrl-F5 (exécution sans débogage) </li>
<li> WebApp s&#39;exécutera et un navigateur s&#39;ouvrira, affichant ClientApp. </li>
</ul>
<p> REMARQUE: il y a un problème avec la définition des points d&#39;arrêt dans Angular ClientApp dans Visual Studio. Voir: <a href="https://github.com/govmeeting/govmeeting/issues/80">Github numéro 80</a> </p>
<h2> Exécutez WorkflowApp </h2>
<ul>
<li> Téléchargez les fichiers de test depuis Google Drive (voir ci-dessus) </li>
<li> Ouvrez le panneau de débogage. </li>
<li> Définissez le projet de démarrage sur "WorkflowApp" </li>
<li> Appuyez sur F5 (débogage) ou Ctrl-F5 (exécution sans débogage) </li>
</ul>
<p> Remarque: Voir les notes pour WorkflowApp sous "Visual Studio Code" </p>
<hr />
<p><a name="DevelopOther"></a></p>
<h1> Développer avec d&#39;autres outils <br/></h1>
<p> <a href="about?id=setup#Contents">[Contenu]</a> </p>

<p> Dans votre profil, définissez la variable d&#39;environnement, ASPNETCORE_ENVIRONMENT, sur "Développement". Il est utilisé par WebApp et WorkflowApp. </p>
<h2> Exécutez ClientApp </h2>
<p> Exécuter: </p>

<ul>
<li> cd Frontend / ClientApp </li>
<li> installation de npm </li>
<li> npm start </li>
</ul>
<p> Accédez à localhost: 4200 dans votre navigateur. L&#39;application cliente se charge. Certaines fonctionnalités ne fonctionneront pas tant que WebApp n&#39;est pas en cours d&#39;exécution. </p>
<h2> Exécutez WebApp avec ClientApp </h2>
<p> Exécuter: </p>

<ul>
<li> (faites ci-dessus: "Build & start ClientApp") </li>
<li> cd ../../Backend/WebApp </li>
<li> dotnet build webapp.csproj </li>
<li> dotnet run bin / debug / dotnet2.2 / webapp.dll </li>
</ul>
<p> Accédez à localhost: 5000 dans votre navigateur. L&#39;application cliente se charge. </p>
<h2> Exécutez ClientApp de façon autonome </h2>
<ul>
<li> Dans app.module.ts, changez "isAspServerRunning" de true à false. </li>
<li> (faites ci-dessus: "Build & start ClientApp") </li>
</ul><h2> Exécutez WorkflowApp </h2>
<p> Exécuter: </p>

<ul>
<li> cd Backend / WorkflowApp </li>
<li> dotnet build workflowapp.csproj </li>
<li> dotnet run bin / debug / dotnet2.0 / workflowapp.dll </li>
</ul>
<p> Remarque: Voir les notes pour WorkflowApp sous "Visual Studio Code" </p>
<!-- END OF README SECTION --><hr />
<p><a name="Database"></a></p>
<h1> Base de données <br/></h1>
<p> <a href="about?id=setup#Contents">[Contenu]</a> </p>

<p> Vous n&#39;aurez peut-être pas besoin d&#39;installer et de configurer la base de données pour effectuer le développement. Il existe des talons de test qui se substituent à l&#39;appel de la base de données. Voir «Bouts de test» ci-dessous. </p>
<h2> Installer le fournisseur </h2>
<p> Si vous utilisez Visual Studio ou Visual Studio Code, le fournisseur Sql Server Express LocalDb est déjà installé. Sinon, effectuez "Installation du fournisseur LocalDb" ci-dessous. </p>
<h3> Installation du fournisseur LocalDb </h3>
<p> Accédez à <a href="https://www.microsoft.com/en-us/sql-server/sql-server-downloads">Sql Server Express.</a> Pour Windows, téléchargez l&#39;édition spécialisée "Express" de SQL Server. Pendant l&#39;installation, choisissez "Personnalisé" et sélectionnez "LocalDb". </p>

<p> LocalDb est également disponible pour MacOs et Linux. Si vous l&#39;installez pour l&#39;une ou l&#39;autre des plates-formes, veuillez mettre à jour ce document avec les étapes et faire une demande Pull. </p>
<h3> Autres fournisseurs </h3>
<p> Outre LocalSb, EF Core prend en charge d&#39; <a href= "https://docs.microsoft.com/en-us/ef/core/providers/?tabs=dotnet-core-cli">autres fournisseurs</a> que vous pouvez utiliser pour le développement, notamment SqlLite. Vous devrez modifier la configuration de DbContext dans startup.cs et la chaîne de connexion dans appsettings.json. </p>
<h2> Créer un schéma de base de données </h2>
<p> La base de données est construite via la fonctionnalité "code first" d&#39;Entity Framework Core. Il examine les classes C# dans le modèle de données et crée automatiquement toutes les tables et relations. Il y a deux étapes: (1) Créer le code "migrations" pour effectuer la mise à jour et (2) exécuter la mise à jour. </p>

<ul>
<li> cd Backend / WebApp </li>
<li> dotnet ef migrations add initial --project .. \ Database \ DatabaseAccess_Lib </li>
<li> mise à jour de la base de données dotnet ef --projet .. \ Database \ DatabaseAccess_Lib </li>
</ul><h2> Explorez la base de données créée </h2><h3> Dans VsCode </h3>
<p> Ajoutez ce qui suit à votre settings.json utilisateur dans VsCode: </p>
<pre> <code> "mssql.connections": [ { "server": "(localdb)\\mssqllocaldb", "database": "Govmeeting", "authenticationType": "Integrated", "profileName": "GMProfile", "password": "" } ],</code> </pre>
<ul>
<li> Appuyez sur ctrl-alt-D ou appuyez sur l&#39;icône Sql Server sur la marge gauche. </li>
<li> Ouvrez la connexion GMProfile pour afficher et utiliser des objets de base de données. </li>
<li> Ouvrez "Tables". Vous devriez voir toutes les tables créées lorsque vous avez créé le schéma ci-dessus. Cela inclut les tables AspNetxxxx pour l&#39;autorisation et les tables pour le modèle de données Govmeeting. </li>
</ul><h3> Dans Visual Studio </h3>
<ul>
<li> Accédez à l&#39;élément de menu: Affichage -&gt; Explorateur d&#39;objets SQL Server. </li>
<li> Développez SQL Server -&gt; (localdb) \ MSSQLLocalDb -&gt; Bases de données -&gt; Govmeeting </li>
<li> Ouvrez "Tables". Vous devriez voir toutes les tables créées lorsque vous avez créé le schéma ci-dessus. Cela inclut les tables AspNetxxxx pour l&#39;autorisation et les tables pour le modèle de données Govmeeting. </li>
</ul><h3> Autres plateformes </h3>
<p> Il existe la plateforme multiplateforme et open source <a href="https://github.com/Microsoft/sqlopsstudio?WT.mc_id=-blog-scottha">SQL Operations Studio,</a> "un outil de gestion des données qui permet de travailler avec SQL Server, Azure SQL DB et SQL DW depuis Windows, macOS et Linux". Vous pouvez télécharger gratuitement <a href="https://docs.microsoft.com/en-us/sql/sql-operations-studio/download?view=sql-server-2017&WT.mc_id=-blog-scottha">SQL Operations Studio ici.</a> </p>

<p> Si vous utilisez cet outil ou un autre pour explorer les bases de données SQL Server, veuillez mettre à jour ces instructions. </p>
<h2> Bouts de test </h2>
<p> Le code pour stocker / récupérer les données de transcription dans la base de données n&#39;est pas encore écrit. Par conséquent, DatabaseRepositories_Lib utilise à la place des données de test statiques. Dans WebApp / appsettings.json, la propriété "UseDatabaseStubs" est définie sur "true", lui indiquant d&#39;appeler les routines de talon. </p>

<p> Cependant, le code d&#39;enregistrement et de connexion utilisateur dans WebApp utilise la base de données. Il accède aux tables d&#39;authentification des utilisateurs Asp.Net. WebApp authentifie les appels d&#39;API de ClientApp en fonction de l&#39;utilisateur actuellement connecté. </p>

<p> Vous pouvez utiliser la valeur de pré-processeur "NOAUTH" dans WebApp pour contourner l&#39;authentification. Utilisez l&#39;une de ces méthodes: </p>

<ul>
<li> Dans FixasrController.cs ou AddtagsController.cs, décommentez la ligne "#if NOAUTH" en haut du fichier. </li>
<li> Pour le désactiver pour tous les contrôleurs, ajoutez ceci à WebApp.csproj: </li>
</ul><pre> <code> &lt;PropertyGroup Condition="&#39;$(Configuration)|$(Platform)&#39;==&#39;Debug|AnyCPU&#39;&gt; &lt;DefineConstants&gt;NOAUTH&lt;/DefineConstants&gt; &lt;/PropertyGroup&gt;</code> </pre>
<ul>
<li> Dans Visual Studio, accédez aux pages de propriétés WebApp -&gt; Build -&gt; et entrez NOAUTH dans la zone "Symboles de compilation conditionnelle". </li>
</ul><hr />
<p><a name="GoogleCloud"></a></p>
<h1> Google Cloud Platform <br/></h1>
<p> <a href="about?id=setup#Contents">[Contenu]</a> </p>

<p> Pour utiliser les API Google Speech pour la conversion de la parole en texte, vous avez besoin d&#39;un compte Google Cloud Platform (GCP). Pour la plupart des travaux de développement dans Govmeeting, vous pouvez utiliser les données de test existantes. Mais si vous voulez transcrire de nouveaux enregistrements, vous aurez un GCP. L&#39;API Google est capable de transcrire des enregistrements dans plus de 120 langues et variantes. </p>

<p> Google offre aux développeurs un compte gratuit qui comprend un crédit (actuellement 300 $). Le coût actuel d&#39;utilisation de l&#39;API Speech est gratuit pour jusqu&#39;à 60 minutes de conversion par mois. Après cela, le coût du "modèle amélioré" (ce dont nous avons besoin) est de 0,009 $ par 15 secondes. (2,16 $ par heure) </p>

<ul>
<li>
<p> Ouvrez un compte avec <a href="https://cloud.google.com/free/">Google Cloud Platform</a> </p>
</li>
<li>
<p> Accédez au <a href="http://console.cloud.google.com">tableau de bord Google Cloud</a> et créez un projet. </p>
</li>
<li>
<p> Accédez à la <a href="http://console.developers.google.com">console du développeur Google</a> et activez les API Speech & Cloud Storage </p>
</li>
<li>
<p> Générez des informations d&#39;identification de "compte de service" pour ce projet. Cliquez sur Credentials dans la console du développeur. </p>
</li>
<li>
<p> Accordez à ce compte les autorisations "Editeur" sur le projet. Cliquez sur le compte. Sur la page suivante, cliquez sur Autorisations. </p>
</li>
<li>
<p> Téléchargez le fichier JSON d&#39;informations d&#39;identification. </p>
</li>
<li>
<p> Créez un dossier <code>SECRETS</code> tant que frère du dossier de projet cloné </p>
</li>
<li>
<p> Mettez le fichier d&#39;informations d&#39;identification dans SECRETS et renommez-le <code>TranscribeAudio.json</code> . </p>
</li>
</ul><h2> Tester la transcription de la parole en texte </h2>
<ul>
<li>
<p> Définissez le projet de démarrage dans Visual Studio sur <code>Backend/WorkflowApp</code> . Appuyez sur F5. </p>
</li>
<li>
<p> Copiez (ne déplacez pas) l&#39;un des exemples de fichiers MP4 de testdata vers DATAFILES / RECEIVED. </p>
</li>
</ul>
<p> Le programme va maintenant reconnaître qu&#39;un nouveau fichier est apparu et commencer à le traiter. Le fichier MP4 sera déplacé vers "TERMINE" une fois terminé. Vous verrez les résultats dans des sous-dossiers, qui ont été créés dans le répertoire "DATAFILES". </p>

<p> Dans appsettings.json, il existe une propriété "RecordingSizeForDevelopment". Il est actuellement réglé sur "180". Cela provoque la routine de transcription dans ProcessRecording_Lib pour traiter uniquement les 180 premières secondes de l&#39;enregistrement. </p>
<hr />
<p><a name="GoogleApi"></a></p>
<h1> Clés API Google <br/></h1>
<p> <a href="about?id=setup#Contents">[Contenu]</a> </p>

<p> Vous aurez besoin de ces clés si vous souhaitez utiliser ou travailler sur certaines fonctionnalités du processus d&#39;enregistrement et de connexion. </p>

<ul>
<li> Les clés ReCaptcha sont nécessaires pour utiliser ReCaptcha lors de l&#39;enregistrement de l&#39;utilisateur. Ils peuvent être obtenus auprès de <a href="https://developers.google.com/recaptcha/">Google reCaptcha</a> . </li>
<li> Les informations d&#39;identification OAuth 2.0 sont utilisées pour se connecter à un utilisateur externe sans que l&#39;utilisateur ait besoin de créer un compte personnel sur le site. Accédez à la <a href="https://console.developers.google.com/">console API Google</a> pour obtenir des informations d&#39;identification telles qu&#39;un ID client et un secret client. </li>
</ul>
<p> Créez un dossier <code>SECRETS</code> tant que frère du dossier de projet cloné. Créez-y un fichier nommé "appsettings.Development.json", au format suivant. </p>
<pre> <code>{ "ExternalAuth": { "Google": { "ClientId": "your-client-Id", "ClientSecret": "your-client-secret" } }, "ReCaptcha:SiteKey": "your-site-key", "ReCaptcha:Secret": "your-secret" }</code> </pre>
<p> Modifiez-le pour qu&#39;il contienne les clés que vous venez d&#39;obtenir: </p>
<hr /><h2> Testez reCaptcha </h2>
<ul>
<li> Exécutez le projet WebApp. </li>
<li> Cliquez sur "S&#39;inscrire" en haut à droite. </li>
<li> L&#39;option reCaptcha devrait apparaître. </li>
</ul><hr /><h2> Tester l&#39;authentification Google </h2>
<ul>
<li> Exécutez le projet WebApp. </li>
<li> Cliquez sur "Connexion" en haut à droite. </li>
<li> Sous "Utiliser un autre service pour vous connecter", choisissez "Google". </li>
</ul>
