<!-- Do not edit this file. It was translated by Google. -->
<style>
  img {
  max-width: 100%;
  height: auto;
}
</style><mat-card><mat-card-title class="cardtitle"> Projekt </mat-card-title>
<markdown ngPreserveWhitespaces>

<p> Poniższe diagramy pokazują interakcje między komponentami oprogramowania. </p>

<ul>
<li>
<p> ClientApp to jednostronicowa aplikacja Angular Typescript działająca w przeglądarce. Zapewnia interfejs użytkownika. </p>
</li>
<li>
<p> WebApp to aplikacja <a href="https://github.com/aspnet/home">Asp.Net Core</a> C #, która działa na serwerze. Odpowiada na połączenia WebApi. </p>
</li>
<li>
<p> WorkflowApp to aplikacja <a href="https://github.com/dotnet/core">DotNet Core</a> C #, która działa na serwerze. Wykonuje wsadowe przetwarzanie nagrań i transkryptów. Można go również przekonwertować na bibliotekę działającą w ramach procesu WebApp. </p>
</li>
<li>
<p> Pozostałe składniki serwera to biblioteki DotNet Core C #. Są używane zarówno przez WebApp, jak i WorkflowApp. </p>
</li>
</ul><hr /><h2> Projekt systemu </h2>
</markdown>
<img src="assets/images/FlowchartSystem.png">
<markdown ngPreserveWhitespaces>

<p> Składniki na powyższym schemacie to: </p>

<table style="width:100%">
<tr><th colspan="2"> Aplikacje </th></tr>
<tr><td> ClientApp </td><td> Angular SPA </td></tr>
<tr><td> Aplikacja internetowa </td><td> Proces serwera WWW Asp.Net </td></tr>
<tr><td> WorkflowApp </td><td> Proces kontroli serwera przepływu pracy </td></tr>
<tr><th colspan="2"> Biblioteki </th></tr>
<tr><td> GetOnlineFiles </td><td> Odzyskaj transkrypcje i nagrania online </td></tr>
<tr><td> ProcessRecording </td><td> Wyodrębnij i transkrybuj dźwięk. Utwórz segmenty robocze. </td></tr>
<tr><td> ProcessTranscript </td><td> Przekształć surowe transkrypty </td></tr>
<tr><td> LoadDatabase </td><td> Zapełnij bazę danych danymi z ukończonej transkrypcji </td></tr>
<tr><td> OnlineAccess </td><td> Procedury pobierania plików ze zdalnych witryn </td></tr>
<tr><td> GoogleCloudAccess </td><td> Procedury dostępu do usług Google Cloud </td></tr>
<tr><td> FileDataRepositories </td><td> Przechowuj i pobieraj dane pliku roboczego JSON </td></tr>
<tr><td> Baza danych repozytoria </td><td> Przechowuj i pobieraj dane modelu z bazy danych </td></tr>
<tr><td> DatabaseAccess </td><td> Uzyskaj dostęp do bazy danych za pomocą Entity Framework </td></tr>
</table>
<hr /><h2> ClientApp Design </h2>
</markdown>
<img src="assets/images/FlowchartClientApp.png">
<markdown ngPreserveWhitespaces>

<p> Strukturę ClientApp najlepiej pokazuje struktura Angular Component </p>

<table style="width:100%">
<tr><th colspan="2"> Komponenty aplikacji </th></tr>
<tr><td> nagłówek </td><td> nagłówek </td></tr>
<tr><td> Sidenav </td><td> Nawigacja na pasku bocznym </td></tr>
<tr><td> Deska rozdzielcza </td><td> Pojemnik na elementy deski rozdzielczej </td></tr>
<tr><td> Dokumentacja </td><td> Pojemnik na strony dokumentacji </td></tr>
<tr><th colspan="2"> Komponenty deski rozdzielczej </th></tr>
<tr><td> Fixasr </td><td> Napraw tekst automatycznego rozpoznawania mowy </td></tr>
<tr><td> Dodaj tagi </td><td> Dodaj tagi do transkrypcji </td></tr>
<tr><td> ViewTranscript </td><td> Zobacz ukończone transkrypcje </td></tr>
<tr><td> Zagadnienia </td><td> Wyświetl informacje o problemach </td></tr>
<tr><td> Alerty </td><td> Wyświetl i ustaw informacje o alertach </td></tr>
<tr><td> Urzędnicy </td><td> Zobacz informacje o urzędnikach </td></tr>
<tr><td> (Inne)) </td><td> Inne komponenty do wdrożenia </td></tr>
<tr><th colspan="2"> Usługi </th></tr>
<tr><td> VirtualMeeting </td><td> Uruchom wirtualne spotkanie </td></tr>
<tr><td> Czat </td><td> Komponent czatu użytkownika </td></tr>
</table>
<hr /><h2> Projektowanie aplikacji internetowych </h2>
</markdown>
<img src="assets/images/FlowchartWebApp.png">
<markdown ngPreserveWhitespaces>

<p> Każdy interfejs API sieci Web jest mały i wywołuje repozytoria w celu umieszczenia lub pobrania danych z bazy danych lub systemu plików. </p>

<table style="width:100%">
<tr><th colspan="2"> Kontrolery </th></tr>
<tr><td> Fixasr </td><td> Zapisz i pobierz najnowszą wersję transkryptu, która jest poprawiana. </td></tr>
<tr><td> Dodaj tagi </td><td> Zapisz i pobierz najnowszą wersję transkrypcji. </td></tr>
<tr><td> Transkrypcja widoku </td><td> Pobierz najnowszy ukończony skrypt. </td></tr>
<tr><td> Govbodies </td><td> Zapisz i uzyskaj zarejestrowane dane organu rządowego. </td></tr>
<tr><td> Spotkania </td><td> Zapisz i uzyskaj informacje o spotkaniu. </td></tr>
<tr><td> Wideo </td><td> Zobacz wideo ze spotkania. </td></tr>
<tr><td> Konto </td><td> Przetwarzaj rejestrację użytkownika i logowanie. </td></tr>
<tr><td> Zarządzać </td><td> Użytkownicy mogą zarządzać swoimi profilami. </td></tr>
<tr><td> Administrator </td><td> Administrator może zarządzać użytkownikami, zasadami i roszczeniami </td></tr>
<tr><th colspan="2"> Usługi </th></tr>
<tr><td> E-mail </td><td> Obsługa potwierdzenia e-mailem rejestracyjnym. </td></tr>
<tr><td> Wiadomość </td><td> Potwierdź rejestrację za pomocą wiadomości tekstowej. </td></tr>
</table>
<hr /><h2> WorkflowApp Design </h2>
</markdown>
<img src="assets/images/FlowchartWorkflowApp.png">
<markdown ngPreserveWhitespaces>

<p> Status przepływu pracy dla konkretnego spotkania jest przechowywany w jego rekordzie spotkania w bazie danych. Każdy z komponentów przepływu pracy działa niezależnie. Każdy z nich jest kolejno wywoływany w celu sprawdzenia dostępności pracy. Każdy komponent wyśle zapytanie do bazy danych o spotkania odpowiadające ich kryteriom dostępnej pracy. Jeśli praca zostanie znaleziona, wykonają ją i zaktualizują status spotkania w bazie danych. </p>

<p> Aby zbudować solidny system, który będzie w stanie odzyskać siły po awarii, będziemy musieli traktować kroki w przepływie pracy jako „transakcje”. Transakcja kończy się całkowicie lub wcale. Jeśli podczas etapu przetwarzania wystąpią nieodwracalne awarie, stan tego spotkania zostanie przywrócony do ostatniego prawidłowego stanu. Kod obecnie nie realizuje transakcji. (Problem z Gitubem do naśladowania) </p>

<p> Pseudo kod podano poniżej dla komponentów </p>

<ul>
<li> RetreiveOnlineFiles </li>
<ul>
<li> Dla wszystkich podmiotów rządowych w systemie </li>
<ul>
<li> Sprawdź harmonogram (y) spotkań, które chcesz pobrać </li>
<li> Pobierz plik nagrania lub transkrypcji </li>
<li> Umieść plik w folderze DATAFILES \ Received </li>
</ul>
<li> Pliki można również umieszczać w folderze Otrzymane przez przesłanie przez użytkownika. </li>
</ul>
<li> ProcessReceivedFiles </li>
<ul>
<li> Dla plików w DATAFILES \ Received i rekord bazy danych nie istnieje: </li>
<ul>
<li> Określ typ pliku </li>
<li> Utwórz rekord bazy danych </li>
<li> ustaw status = otrzymano, zatwierdzono = fałsz </li>
<li> Wyślij wiadomość do menedżera (ów): „Otrzymano” </li>
</ul>
</ul>
<li> TranscribeRecordings </li>
<ul>
<li> W przypadku nagrań o typie źródłowym = nagrywanie, status = otrzymano, zatwierdzono = prawda </li>
<ul>
<li> Utwórz folder roboczy </li>
<li> ustaw status = transkrybowanie, zatwierdzony = fałsz </li>
<li> Transkrybuj nagranie </li>
<li> ustaw status = transkrybowany, zatwierdzony = fałsz </li>
<li> Wyślij wiadomość do menedżerów: „Transkrybowano” </li>
</ul>
</ul>
<li> ProcessTranscripts </li>
<ul>
<li> W przypadku transkryptów o parametrze sourcetype = transkrypcja, status = otrzymano, zatwierdzono = prawda </li>
<ul>
<li> Utwórz folder roboczy </li>
<li> ustaw status = przetwarzanie, zatwierdzony = fałsz </li>
<li> Transkrypt procesu </li>
<li> ustaw status = przetworzone, zatwierdzone = fałsz </li>
<li> Wyślij wiadomość do menedżera (menedżerów): „Przetworzono” </li>
</ul>
</ul>
<li> ProofreadRecording </li>
<ul>
<li> W przypadku nagrań o statusie = transkrybowane / zatwierdzone = prawda </li>
<ul>
<li> Utwórz folder roboczy </li>
<li> ustaw status = korekta, zatwierdzony = fałsz </li>
<li> Teraz nastąpi ręczna korekta </li>
</ul>
<li> W przypadku nagrań o statusie = korekta </li>
<ul>
<li> Sprawdź, czy korekta wygląda na ukończoną. W takim razie: </li>
<li> ustaw status = korekta, zatwierdzony = fałsz </li>
<li> wyślij wiadomość do menedżera (ów): „Korekta” </li>
</ul>
</ul>
<li> AddTagsToTranscript </li>
<ul>
<li> W przypadku nagrań o statusie = korekta, zatwierdzone = prawda LUB w przypadku transkrypcji o statusie = przetworzone, zatwierdzone = prawda </li>
<ul>
<li> Utwórz folder roboczy </li>
<li> ustaw status = tagowanie, zatwierdzony = false </li>
<li> Nastąpi ręczne tagowanie </li>
</ul>
</ul>
<ul>
<li> W przypadku transkrypcji ze znacznikiem status = </li>
<ul>
<li> Sprawdź, czy tagowanie wydaje się zakończone. W takim razie: </li>
<li> ustaw status = otagowano, zatwierdzono = fałsz </li>
<li> wyślij wiadomość do menedżerów: „Tagged” </li>
</ul>
</ul>
<li> LoadTranscript </li>
<ul>
<li> W przypadku spotkań o statusie = oznaczony, zatwierdzony = prawda 
<ul>
<li> ustaw status = ładowanie, zatwierdzony = fałsz </li>
<li> wczytaj zawartość spotkania do bazy danych </li>
<li> ustaw status = załadowany, zatwierdzony = false </li>
<li> Wyślij wiadomość do menedżerów: „Załadowano” </li>
</ul>
</ul>
</ul><hr /><h2> Sekrety użytkownika </h2>
<p> Tajemnice użytkownika, które nie powinny znajdować się w repozytorium kodu, są przechowywane w folderze „SECRETS”. Zawiera następujące informacje: </p>

<ul>
<li> ClientId i ClientSecret dla zewnętrznej usługi autoryzacji Google. </li>
<li> SiteKey and Secret dla usługi Google ReCaptcha. </li>
<li> Poświadczenia dla Google Cloud Platform. </li>
<li> Ciąg połączenia z bazą danych. </li>
<li> Nazwa użytkownika i hasło administratora. </li>
</ul>
<p> Folder SECRETS może zawierać cztery pliki. </p>

<ul>
<li> appsettings.Development.json </li>
<li> appsettings.Production.json </li>
<li> appsettings.Staging.json </li>
<li> TranscribeAudio.json </li>
</ul>
<p> TranscribeAudio.json zawiera poświadczenia Google Cloud Platform. Każdy z pozostałych trzech plików może zawierać ustawienia dla każdego z pozostałych sekretów. appsettings.Production.json powinien zawierać wszystkie ustawienia dotyczące produkcji. Wszelkie ustawienia zawarte w tych plikach zastąpią ustawienia w Server / WebApp / app.settings.json. Ten plik jest zawarty w repozytorium. </p>

<p> Jeśli chcesz, aby komputer lokalny miał dostęp do usług Google, musisz utworzyć folder lokalny „../SECRETS w odniesieniu do miejsca, w którym znajduje się repozytorium. Następnie możesz na przykład dodać plik„ appsettings.Development. json ”, który zawiera klucze uzyskane od Google. Zobacz: <a href="home#google-api-keys">Klucze API Google</a> </p>
<hr /><h1> Dokumentacja </h1>
<p> Oryginalnie ta dokumentacja była przechowywana na stronach Wiki Github. Ale postanowiono przenieść strony do samego projektu z dwóch powodów: </p>

<ul>
<li> Nie można wykonać żądania ściągania zmian na stronach Wiki Github. Utrudnia to członkom społeczności zmianę dokumentacji. </li>
<li> Dokumentacja najprawdopodobniej pozostanie zsynchronizowana z kodem, jeśli będzie razem z kodem w tym samym repozytorium. Pojedynczy PR dla zmian kodu może obejmować związane z nim zmiany dokumentacji. </li>
</ul>
<p> Dokumentacja jest napisana w Markdown i znajduje się w Frontend / ClientApp / src / app / asset / docs. </p>

</markdown>

<p> &lt;/mat-card&gt; </p>
