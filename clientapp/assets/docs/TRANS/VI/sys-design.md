<!-- Do not edit this file. It was translated by Google. -->
<style>
  img {
  max-width: 100%;
  height: auto;
}
</style><mat-card><mat-card-title class="cardtitle"> Thiết kế </mat-card-title>
<markdown ngPreserveWhitespaces>

<p> Các sơ đồ dưới đây cho thấy sự tương tác giữa các thành phần phần mềm. </p>

<ul>
<li>
<p> ClientApp là một ứng dụng trang đơn kiểu Angular chạy trong trình duyệt. Nó cung cấp giao diện người dùng. </p>
</li>
<li>
<p> WebApp là một ứng dụng <a href="https://github.com/aspnet/home">Asp.Net Core</a> C# chạy trên máy chủ. Nó đáp ứng các cuộc gọi WebApi. </p>
</li>
<li>
<p> WorkflowApp là một ứng dụng <a href="https://github.com/dotnet/core">DotNet Core</a> C# chạy trên máy chủ. Nó xử lý hàng loạt các bản ghi và bảng điểm. Nó cũng có thể được chuyển đổi thành một thư viện chạy như một phần của quy trình WebApp. </p>
</li>
<li>
<p> Các thành phần máy chủ khác là các thư viện DotNet Core C #. Chúng được sử dụng bởi cả WebApp & WorkflowApp. </p>
</li>
</ul><hr /><h2> Thiết kế hệ thống </h2>
</markdown>
<img src="assets/images/FlowchartSystem.png">
<markdown ngPreserveWhitespaces>

<p> Các thành phần trong sơ đồ trên là: </p>

<table style="width:100%">
<tr><th colspan="2"> Các ứng dụng </th></tr>
<tr><td> Ứng dụng khách </td><td> Spa góc </td></tr>
<tr><td> Ứng dụng web </td><td> Quá trình máy chủ web Asp.Net </td></tr>
<tr><td> WorkflowApp </td><td> Quy trình kiểm soát máy chủ </td></tr>
<tr><th colspan="2"> Thư viện </th></tr>
<tr><td> GetOnlineFiles </td><td> Truy xuất bảng điểm và ghi âm trực tuyến </td></tr>
<tr><td> Quy trình </td><td> Trích xuất và phiên âm âm thanh. Tạo phân khúc công việc. </td></tr>
<tr><td> Bản dịch quy trình </td><td> Chuyển đổi bảng điểm thô </td></tr>
<tr><td> Cơ sở dữ liệu </td><td> Nhập cơ sở dữ liệu với dữ liệu từ bản sao hoàn thành </td></tr>
<tr><td> Truy cập trực tuyến </td><td> Các thường trình để lấy các tập tin từ các trang web từ xa </td></tr>
<tr><td> GoogleCloudAccess </td><td> Các thói quen truy cập dịch vụ Google Cloud </td></tr>
<tr><td> FileDataReporiesories </td><td> Lưu trữ & Nhận dữ liệu tệp công việc JSON </td></tr>
<tr><td> Cơ sở dữ liệu </td><td> Lưu trữ & Nhận dữ liệu Mô hình từ cơ sở dữ liệu </td></tr>
<tr><td> Cơ sở dữ liệu </td><td> Truy cập cơ sở dữ liệu bằng Entity Framework </td></tr>
</table>
<hr /><h2> Thiết kế ứng dụng khách </h2>
</markdown>
<img src="assets/images/FlowchartClientApp.png">
<markdown ngPreserveWhitespaces>

<p> Cấu trúc của ClientApp được hiển thị tốt nhất bởi cấu trúc Thành phần góc của nó </p>

<table style="width:100%">
<tr><th colspan="2"> Thành phần ứng dụng </th></tr>
<tr><td> Tiêu đề </td><td> Tiêu đề </td></tr>
<tr><td> Sidenav </td><td> Điều hướng thanh bên </td></tr>
<tr><td> bảng điều khiển </td><td> Container cho các thành phần bảng điều khiển </td></tr>
<tr><td> Tài liệu </td><td> Container cho các trang tài liệu </td></tr>
<tr><th colspan="2"> Thành phần bảng điều khiển </th></tr>
<tr><td> Fixasr </td><td> Sửa văn bản nhận dạng giọng nói tự động </td></tr>
<tr><td> Addtags </td><td> Thêm thẻ vào bảng điểm </td></tr>
<tr><td> ViewTranscript </td><td> Xem bảng điểm hoàn thành </td></tr>
<tr><td> Các vấn đề </td><td> Xem thông tin về các vấn đề </td></tr>
<tr><td> Cảnh báo </td><td> Xem và thiết lập thông tin về cảnh báo </td></tr>
<tr><td> Cán bộ </td><td> Xem thông tin về các quan chức </td></tr>
<tr><td> (Khác)) </td><td> Các thành phần khác sẽ được thực hiện </td></tr>
<tr><th colspan="2"> Dịch vụ </th></tr>
<tr><td> VirtualMeeting </td><td> Chạy cuộc họp ảo </td></tr>
<tr><td> Trò chuyện </td><td> Thành phần trò chuyện của người dùng </td></tr>
</table>
<hr /><h2> Thiết kế ứng dụng web </h2>
</markdown>
<img src="assets/images/FlowchartWebApp.png">
<markdown ngPreserveWhitespaces>

<p> Mỗi API Web đều nhỏ và gọi các kho lưu trữ để đặt hoặc lấy dữ liệu từ cơ sở dữ liệu hoặc hệ thống tệp. </p>

<table style="width:100%">
<tr><th colspan="2"> Bộ điều khiển </th></tr>
<tr><td> Fixasr </td><td> Lưu và nhận phiên bản mới nhất của bảng điểm là hiệu đính. </td></tr>
<tr><td> Addtags </td><td> Lưu và nhận phiên bản mới nhất của bảng điểm được gắn thẻ. </td></tr>
<tr><td> Chế độ xem </td><td> Nhận trnascript hoàn thành mới nhất. </td></tr>
<tr><td> Chính phủ </td><td> Lưu và nhận dữ liệu cơ thể chính phủ đã đăng ký. </td></tr>
<tr><td> Các cuộc họp </td><td> Lưu và nhận thông tin cuộc họp. </td></tr>
<tr><td> Video </td><td> Nhận video của cuộc họp. </td></tr>
<tr><td> Tài khoản </td><td> Quá trình đăng ký người dùng và đăng nhập. </td></tr>
<tr><td> Quản lý </td><td> Người dùng có thể quản lý hồ sơ của họ. </td></tr>
<tr><td> quản trị viên </td><td> Quản trị viên có thể quản lý người dùng, chính sách và khiếu nại </td></tr>
<tr><th colspan="2"> Dịch vụ </th></tr>
<tr><td> E-mail </td><td> Xử lý xác nhận email đăng ký. </td></tr>
<tr><td> Thông điệp </td><td> Xử lý xác nhận đăng ký qua tin nhắn văn bản. </td></tr>
</table>
<hr /><h2> Thiết kế WorkflowApp </h2>
</markdown>
<img src="assets/images/FlowchartWorkflowApp.png">
<markdown ngPreserveWhitespaces>

<p> Trạng thái của quy trình làm việc cho một cuộc họp cụ thể được lưu trong hồ sơ Cuộc họp của nó trong cơ sở dữ liệu. Mỗi thành phần dòng công việc hoạt động độc lập. Họ lần lượt được gọi để kiểm tra công việc có sẵn. Mỗi thành phần sẽ truy vấn cơ sở dữ liệu cho các cuộc họp phù hợp với tiêu chí của họ cho công việc có sẵn. Nếu công việc được tìm thấy, họ sẽ thực hiện nó và cập nhật trạng thái của cuộc họp trong cơ sở dữ liệu. </p>

<p> Để xây dựng một hệ thống mạnh mẽ, có thể phục hồi từ các thất bại, chúng ta sẽ cần coi các bước trong quy trình làm việc là "giao dịch". Một giao dịch hoàn thành đầy đủ hoặc không hoàn toàn. Nếu có những thất bại không thể phục hồi trong một bước xử lý, trạng thái cho cuộc họp đó sẽ quay trở lại trạng thái hợp lệ cuối cùng. Mã hiện không thực hiện giao dịch. (Vấn đề Gitub cần tuân theo) </p>

<p> Mã giả được đưa ra dưới đây cho các thành phần </p>

<ul>
<li> RetreiveOnlineFiles </li>
<ul>
<li> Đối với tất cả các thực thể chính phủ trong hệ thống </li>
<ul>
<li> Kiểm tra lịch trình (các) cuộc họp để lấy </li>
<li> Truy xuất tệp ghi âm hoặc bản ghi </li>
<li> Đặt tệp vào thư mục DATAFILES \ Đã nhận </li>
</ul>
<li> Các tập tin cũng có thể được đặt trong thư mục Đã nhận khi người dùng tải lên. </li>
</ul>
<li> ProcessReceuredFiles </li>
<ul>
<li> Đối với các tệp trong DATAFILES \ Đã nhận và bản ghi cơ sở dữ liệu không tồn tại: </li>
<ul>
<li> Xác định loại tệp </li>
<li> Tạo bản ghi cơ sở dữ liệu </li>
<li> đặt trạng thái = nhận, phê duyệt = sai </li>
<li> Gửi tin nhắn của người quản lý: "Đã nhận" </li>
</ul>
</ul>
<li> Phiên âm </li>
<ul>
<li> Đối với bản ghi có sourcetype = ghi âm, trạng thái = đã nhận, được phê duyệt = true </li>
<ul>
<li> Tạo thư mục công việc </li>
<li> đặt trạng thái = phiên mã, phê duyệt = sai </li>
<li> Ghi âm </li>
<li> đặt trạng thái = phiên âm, phê duyệt = sai </li>
<li> Gửi tin nhắn của người quản lý: "Phiên âm" </li>
</ul>
</ul>
<li> Quy trình xử lý </li>
<ul>
<li> Đối với bảng điểm có sourcetype = transcript, status = receive, Phê duyệt = true </li>
<ul>
<li> Tạo thư mục công việc </li>
<li> đặt trạng thái = xử lý, phê duyệt = sai </li>
<li> Bảng điểm quy trình </li>
<li> đặt trạng thái = đã xử lý, phê duyệt = sai </li>
<li> Gửi tin nhắn của người quản lý: "Đã xử lý" </li>
</ul>
</ul>
<li> ProofreadRecext </li>
<ul>
<li> Đối với bản ghi có trạng thái = được sao chép / phê duyệt = true </li>
<ul>
<li> Tạo thư mục công việc </li>
<li> đặt trạng thái = hiệu đính, phê duyệt = sai </li>
<li> Hiệu đính thủ công bây giờ sẽ diễn ra </li>
</ul>
<li> Đối với bản ghi có trạng thái = hiệu đính </li>
<ul>
<li> Kiểm tra nếu hiệu đính xuất hiện hoàn tất. Nếu vậy: </li>
<li> đặt trạng thái = hiệu đính, phê duyệt = sai </li>
<li> gửi tin nhắn của người quản lý: "Proofread" </li>
</ul>
</ul>
<li> AddTagsToTranscript </li>
<ul>
<li> Đối với bản ghi có trạng thái = Proofread, được phê duyệt = true HOẶC cho bản sao có trạng thái = được xử lý, được phê duyệt = true </li>
<ul>
<li> Tạo thư mục công việc </li>
<li> đặt trạng thái = gắn thẻ, được phê duyệt = sai </li>
<li> Việc gắn thẻ thủ công sẽ diễn ra </li>
</ul>
</ul>
<ul>
<li> Đối với bảng điểm có trạng thái = gắn thẻ </li>
<ul>
<li> Kiểm tra nếu gắn thẻ xuất hiện đầy đủ. Nếu vậy: </li>
<li> đặt trạng thái = được gắn thẻ, được phê duyệt = sai </li>
<li> gửi tin nhắn của người quản lý: "Được gắn thẻ" </li>
</ul>
</ul>
<li> LoadTranscript </li>
<ul>
<li> Đối với các cuộc họp với trạng thái = được gắn thẻ, được phê duyệt = đúng 
<ul>
<li> đặt trạng thái = đang tải, được phê duyệt = sai </li>
<li> tải nội dung cuộc họp vào cơ sở dữ liệu </li>
<li> đặt trạng thái = đã tải, được phê duyệt = sai </li>
<li> Gửi tin nhắn của người quản lý: "Đã tải" </li>
</ul>
</ul>
</ul><hr /><h2> Bí mật người dùng </h2>
<p> Bí mật người dùng không nên có trong kho mã được lưu trong thư mục "BÍ MẬT". Nó chứa các thông tin sau: </p>

<ul>
<li> ClientId và ClientSecret cho dịch vụ ủy quyền bên ngoài của Google. </li>
<li> SiteKey và Secret cho dịch vụ Google ReCaptcha. </li>
<li> Thông tin xác thực cho Nền tảng đám mây của Google. </li>
<li> Chuỗi kết nối cơ sở dữ liệu. </li>
<li> Tên người dùng và mật khẩu của quản trị viên. </li>
</ul>
<p> Thư mục SECRETS có thể chứa bốn tệp. </p>

<ul>
<li> apps settings.Development.json </li>
<li> ứng dụng cài đặt. Producttion.json </li>
<li> apps settings.Staging.json </li>
<li> TranscribeAudio.json </li>
</ul>
<p> TranscribeAudio.json chứa thông tin đăng nhập Google Cloud Platform. Mỗi trong ba tệp khác có thể chứa các cài đặt cho từng bí mật khác. apps settings. Producttion.json nên chứa tất cả các cài đặt để sản xuất. Bất kỳ cài đặt nào trong các tệp này sẽ vượt qua các cài đặt trong Máy chủ / WebApp / app.sinstall.json. Tập tin này được bao gồm trong kho lưu trữ. </p>

<p> Nếu bạn muốn máy cục bộ của mình có quyền truy cập vào các dịch vụ của Google, bạn cần tạo một thư mục cục bộ "../SECRETS liên quan đến vị trí của kho lưu trữ. Ví dụ, bạn có thể thêm tệp" appsinstall.Development. json "với nó, chứa các khóa mà bạn có được từ Google. Xem: <a href="home#google-api-keys">Khóa Google API</a> </p>
<hr /><h1> Tài liệu </h1>
<p> Ban đầu tài liệu này được lưu giữ trong các trang Github Wiki. Nhưng nó đã được quyết định để chuyển các trang vào dự án chính, vì hai lý do: </p>

<ul>
<li> Bạn không thể thực hiện Yêu cầu kéo để thay đổi trên các trang Github Wiki. Điều này gây khó khăn cho các thành viên của cộng đồng để thay đổi tài liệu. </li>
<li> Tài liệu có nhiều khả năng sẽ đồng bộ với mã nếu nó cùng với mã trong cùng một kho lưu trữ. Một PR duy nhất cho các thay đổi mã có thể bao gồm các thay đổi tài liệu liên quan đến nó. </li>
</ul>
<p> Tài liệu này được viết bằng Markdown và nằm trong Frontend / ClientApp / src / app / nội dung / docs. </p>

</markdown>

<p> &lt;/ mat-card&gt; </p>
