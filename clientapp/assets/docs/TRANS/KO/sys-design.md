<!-- Do not edit this file. It was translated by Google. -->
<style>
  img {
  max-width: 100%;
  height: auto;
}
</style><mat-card><mat-card-title class="cardtitle"> 디자인 </mat-card-title>
<markdown ngPreserveWhitespaces>

<p> 아래 다이어그램은 소프트웨어 구성 요소 간의 상호 작용을 보여줍니다. </p>

<ul>
<li>
<p> ClientApp은 브라우저에서 실행되는 Angular Typescript 단일 페이지 응용 프로그램입니다. 사용자 인터페이스를 제공합니다. </p>
</li>
<li>
<p> WebApp은 서버에서 실행되는 <a href="https://github.com/aspnet/home">Asp.Net Core</a> C# 응용 프로그램입니다. WebApi 호출에 응답합니다. </p>
</li>
<li>
<p> WorkflowApp는 서버에서 실행되는 <a href="https://github.com/dotnet/core">DotNet Core</a> C# 응용 프로그램입니다. 녹음 및 대화의 일괄 처리를 수행합니다. 웹 애플리케이션 프로세스의 일부로 실행되는 라이브러리로 변환 될 수도 있습니다. </p>
</li>
<li>
<p> 다른 서버 구성 요소는 DotNet Core C# 라이브러리입니다. WebApp 및 WorkflowApp 모두에서 사용됩니다. </p>
</li>
</ul><hr /><h2> 시스템 디자인 </h2>
</markdown>
<img src="assets/images/FlowchartSystem.png">
<markdown ngPreserveWhitespaces>

<p> 위 다이어그램의 구성 요소는 다음과 같습니다. </p>

<table style="width:100%">
<tr><th colspan="2"> 응용 </th></tr>
<tr><td> ClientApp </td><td> 앵귤러 스파 </td></tr>
<tr><td> WebApp </td><td> Asp.Net 웹 서버 프로세스 </td></tr>
<tr><td> WorkflowApp </td><td> 워크 플로우 서버 제어 프로세스 </td></tr>
<tr><th colspan="2"> 도서관 </th></tr>
<tr><td> GetOnlineFiles </td><td> 온라인 대본 및 녹음 검색 </td></tr>
<tr><td> 프로세스 기록 </td><td> 오디오 추출 및 녹음 작업 세그먼트를 작성하십시오. </td></tr>
<tr><td> ProcessTranscript </td><td> 원시 대본 변환 </td></tr>
<tr><td> LoadDatabase </td><td> 완성 된 성적표의 데이터로 데이터베이스 채우기 </td></tr>
<tr><td> 온라인 액세스 </td><td> 원격 사이트에서 파일을 검색하는 루틴 </td></tr>
<tr><td> GoogleCloudAccess </td><td> Google 클라우드 서비스에 액세스하기위한 루틴 </td></tr>
<tr><td> FileDataRepositories </td><td> JSON 작업 파일 데이터 저장 및 가져 오기 </td></tr>
<tr><td> 데이터베이스 리포지토리 </td><td> 데이터베이스에서 모델 데이터 저장 및 가져 오기 </td></tr>
<tr><td> 데이터베이스 액세스 </td><td> Entity Framework를 사용하여 데이터베이스에 액세스 </td></tr>
</table>
<hr /><h2> ClientApp 디자인 </h2>
</markdown>
<img src="assets/images/FlowchartClientApp.png">
<markdown ngPreserveWhitespaces>

<p> ClientApp의 구조는 Angular Component 구조로 가장 잘 보입니다 </p>

<table style="width:100%">
<tr><th colspan="2"> 앱 구성 요소 </th></tr>
<tr><td> 헤더 </td><td> 헤더 </td></tr>
<tr><td> 사이드 나브 </td><td> 사이드 바 탐색 </td></tr>
<tr><td> 계기반 </td><td> 대시 보드 구성 요소의 컨테이너 </td></tr>
<tr><td> 선적 서류 비치 </td><td> 문서 페이지 컨테이너 </td></tr>
<tr><th colspan="2"> 대시 보드 구성 요소 </th></tr>
<tr><td> Fixasr </td><td> 자동 음성 인식 텍스트 수정 </td></tr>
<tr><td> 태그 </td><td> 대화 내용에 태그 추가 </td></tr>
<tr><td> ViewTranscript </td><td> 완성 된 성적표보기 </td></tr>
<tr><td> 이슈 </td><td> 이슈에 대한 정보보기 </td></tr>
<tr><td> 알림 </td><td> 경고 정보를보고 설정합니다. </td></tr>
<tr><td> 공무원 </td><td> 공무원 정보보기 </td></tr>
<tr><td> (기타) </td><td> 구현할 다른 구성 요소 </td></tr>
<tr><th colspan="2"> 서비스 </th></tr>
<tr><td> 가상 회의 </td><td> 가상 회의 실행 </td></tr>
<tr><td> 잡담 </td><td> 사용자 채팅 구성 요소 </td></tr>
</table>
<hr /><h2> 웹앱 디자인 </h2>
</markdown>
<img src="assets/images/FlowchartWebApp.png">
<markdown ngPreserveWhitespaces>

<p> 각 웹 API는 크기가 작으며 리포지토리를 호출하여 데이터베이스 또는 파일 시스템에서 데이터를 넣거나 가져옵니다. </p>

<table style="width:100%">
<tr><th colspan="2"> 컨트롤러 </th></tr>
<tr><td> Fixasr </td><td> 교정본의 최신 버전을 저장하고 가져옵니다. </td></tr>
<tr><td> 태그 </td><td> 태그가있는 최신 버전의 대화 내용을 저장하고 가져옵니다. </td></tr>
<tr><td> 대본 </td><td> 최신 완성 된 trnascript를 받으십시오. </td></tr>
<tr><td> 고 바디 </td><td> 등록 된 정부 기관 데이터를 저장하고 가져옵니다. </td></tr>
<tr><td> 회의 </td><td> 회의 정보를 저장하고 가져옵니다. </td></tr>
<tr><td> 비디오 </td><td> 회의 비디오를 가져옵니다. </td></tr>
<tr><td> 계정 </td><td> 사용자 등록 및 로그인 처리 </td></tr>
<tr><td> 꾸리다 </td><td> 사용자는 자신의 프로필을 관리 할 수 있습니다. </td></tr>
<tr><td> 관리자 </td><td> 관리자는 사용자, 정책 및 클레임을 관리 할 수 있습니다 </td></tr>
<tr><th colspan="2"> 서비스 </th></tr>
<tr><td> 이메일 </td><td> 등록 이메일 확인 처리 </td></tr>
<tr><td> 메시지 </td><td> 문자 메시지를 통한 등록 확인 처리 </td></tr>
</table>
<hr /><h2> WorkflowApp 디자인 </h2>
</markdown>
<img src="assets/images/FlowchartWorkflowApp.png">
<markdown ngPreserveWhitespaces>

<p> 특정 미팅의 워크 플로우 상태는 데이터베이스의 미팅 레코드에 유지됩니다. 각 워크 플로 구성 요소는 독립적으로 작동합니다. 사용 가능한 작업을 확인하기 위해 각각 차례대로 호출됩니다. 각 구성 요소는 사용 가능한 작업에 대한 기준과 일치하는 미팅을 데이터베이스에 조회합니다. 작업이 있으면 데이터베이스에서 작업을 수행하고 회의 상태를 업데이트합니다. </p>

<p> 장애로부터 복구 할 수있는 강력한 시스템을 구축하려면 워크 플로의 단계를 "트랜잭션"으로 처리해야합니다. 트랜잭션이 완전히 완료되거나 전혀 완료되지 않습니다. 처리 단계 중에 복구 할 수없는 장애가 있으면 해당 미팅의 상태가 마지막 유효 상태로 롤백됩니다. 코드는 현재 트랜잭션을 구현하지 않습니다. (따라야 할 욕조 문제) </p>

<p> 구성 요소에 대한 의사 코드는 다음과 같습니다. </p>

<ul>
<li> 온라인 파일 </li>
<ul>
<li> 시스템의 모든 정부 기관 </li>
<ul>
<li> 검색 할 회의 일정 확인 </li>
<li> 녹음 또는 대화 내용 파일 검색 </li>
<li> DATAFILES \ Received 폴더에 파일 넣기 </li>
</ul>
<li> 사용자 업로드를 통해 파일을 수신 폴더에 배치 할 수도 있습니다. </li>
</ul>
<li> ProcessReceivedFiles </li>
<ul>
<li> DATAFILES \ Received 및 데이터베이스 레코드에없는 파일의 경우 : </li>
<ul>
<li> 파일 형식 결정 </li>
<li> 데이터베이스 레코드 생성 </li>
<li> 상태 설정 = 수신, 승인 = 거짓 </li>
<li> 관리자에게 메시지 보내기 : "수신 됨" </li>
</ul>
</ul>
<li> 녹음 </li>
<ul>
<li> sourcetype = recording, status = received, 승인 = true 인 녹음의 경우 </li>
<ul>
<li> 작업 폴더 만들기 </li>
<li> 상태 설정 = 전송, 승인 = 거짓 </li>
<li> 녹음 기록 </li>
<li> 상태 설정 = 전사, 승인 = 거짓 </li>
<li> 관리자에게 메시지 보내기 : "전사 됨" </li>
</ul>
</ul>
<li> ProcessTranscripts </li>
<ul>
<li> sourcetype = transcript, status = received, 승인 = true 인 성적표의 경우 </li>
<ul>
<li> 작업 폴더 만들기 </li>
<li> 상태 설정 = 처리 중, 승인 됨 = 거짓 </li>
<li> 성적 증명서 </li>
<li> 상태 설정 = 처리됨, 승인 됨 = 거짓 </li>
<li> 보내기 관리자 메시지 : "처리됨" </li>
</ul>
</ul>
<li> 교정 기록 </li>
<ul>
<li> status = transcribed / approved = true 인 녹음의 경우 </li>
<ul>
<li> 작업 폴더 만들기 </li>
<li> 상태 설정 = 교정, 승인 = 거짓 </li>
<li> 이제 수동 교정이 이루어집니다 </li>
</ul>
<li> status = proofreading 인 녹화의 경우 </li>
<ul>
<li> 교정이 완료되었는지 확인하십시오. 그렇다면: </li>
<li> 상태 설정 = 교정, 승인 = 거짓 </li>
<li> 관리자 메시지 보내기 : "교정" </li>
</ul>
</ul>
<li> AddTagsToTranscript </li>
<ul>
<li> status = proofread, 승인 = true 인 기록 또는 status = processed, 승인 = true 인 성적표의 경우 </li>
<ul>
<li> 작업 폴더 만들기 </li>
<li> 상태 설정 = 태깅, 승인 = 거짓 </li>
<li> 이제 수동 태그 추가가 수행됩니다 </li>
</ul>
</ul>
<ul>
<li> status = tagging 인 성적표의 경우 </li>
<ul>
<li> 태그 지정이 완료되었는지 확인하십시오. 그렇다면: </li>
<li> 상태 설정 = 태그, 승인 됨 = false </li>
<li> 관리자에게 메시지 보내기 : "태그 됨" </li>
</ul>
</ul>
<li> LoadTranscript </li>
<ul>
<li> 상태가 태그가 지정된 회의의 경우 승인 됨 = true 
<ul>
<li> 상태 설정 = 로딩, 승인 = 거짓 </li>
<li> 회의 내용을 데이터베이스에로드 </li>
<li> 상태 설정 =로드, 승인 = 거짓 </li>
<li> 관리자에게 메시지 보내기 : "로드 됨" </li>
</ul>
</ul>
</ul><hr /><h2> 사용자 비밀 </h2>
<p> 코드 리포지토리에 없어야하는 사용자 암호는 "SECRETS"폴더에 보관됩니다. 다음 정보가 포함되어 있습니다. </p>

<ul>
<li> Google 외부 인증 서비스에 대한 ClientId 및 ClientSecret </li>
<li> Google ReCaptcha 서비스의 사이트 키 및 비밀. </li>
<li> Google Cloud Platform의 자격 증명 </li>
<li> 데이터베이스 연결 문자열. </li>
<li> 관리자 이름 및 비밀번호. </li>
</ul>
<p> SECRETS 폴더에는 4 개의 파일이있을 수 있습니다. </p>

<ul>
<li> appsettings.Development.json </li>
<li> appsettings.Production.json </li>
<li> appsettings.Staging.json </li>
<li> TranscribeAudio.json </li>
</ul>
<p> TranscribeAudio.json에는 Google Cloud Platform 자격 증명이 포함되어 있습니다. 다른 세 파일 각각은 다른 비밀 각각에 대한 설정을 포함 할 수 있습니다. appsettings.Production.json에는 프로덕션에 대한 모든 설정이 포함되어야합니다. 이 파일에있는 설정은 Server / WebApp / app.settings.json에있는 설정보다 우선합니다. 이 파일은 저장소에 포함되어 있습니다. </p>

<p> 로컬 컴퓨터에서 Google 서비스에 액세스 할 수있게하려면 리포지토리가있는 위치와 관련하여 로컬 폴더 "../SECRETS"를 만들어야합니다. 예를 들어 "appsettings.Development 파일을 추가 할 수 있습니다. Google에서 얻은 키가 포함 된 json "입니다. 참조 : <a href="home#google-api-keys">Google API 키</a> </p>
<hr /><h1> 선적 서류 비치 </h1>
<p> 원래이 문서는 Github Wiki 페이지에 보관되었습니다. 그러나 두 가지 이유로 페이지를 기본 프로젝트 자체로 옮기기로 결정했습니다. </p>

<ul>
<li> Github Wiki 페이지에서 풀 요청을 변경할 수 없습니다. 이로 인해 커뮤니티 구성원이 문서를 변경하기가 어렵습니다. </li>
<li> 문서가 동일한 리포지토리의 코드와 함께 있으면 코드와 동기화 상태를 유지할 가능성이 높습니다. 코드 변경을위한 단일 PR에는 이와 관련된 문서 변경이 포함될 수 있습니다. </li>
</ul>
<p> 설명서는 Markdown으로 작성되었으며 Frontend / ClientApp / src / app / assets / docs에 있습니다. </p>

</markdown>

<p> &lt;/ mat-card&gt; </p>
